/**
Korea-Electricity-Fee.min.js
@Version 0.1.1
Developed by: Pison	(codemission.org)
**/
!function(){this.ElectricityFee=function(){var e={type:"kr-residential-low"};arguments[0]&&"object"==typeof arguments[0]?this.options=function(e,t){var a;for(a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}(e,arguments[0]):this.options=e,this._elec_const={"kr-residential-low":{interval:[0,200,400],basic_section:[910,1600,7300],usage_section:[93.3,187.9,280.6]},"kr-residential-high":{interval:[0,200,400],basic_section:[730,1260,6060],usage_section:[78.3,147.3,215.6]}}},ElectricityFee.prototype.getFeeDetail=function(e){var t=this._elec_const[this.options.type],a={error:!1,message:"",usage:e,basic_charge:0,usage_charge:0,total_charge:0,tax:0,foundation_fund:0,amount:0};if("kr-residential-low"==this.options.type||"kr-residential-high"==this.options.type){for(var i=0;i<t.interval.length;i++){if(!(t.interval[i+1]&&t.interval[i+1]<e)){a.basic_charge+=t.basic_section[i],a.usage_charge+=(e-t.interval[i])*t.usage_section[i];break}a.usage_charge+=(t.interval[i+1]-t.interval[i])*t.usage_section[i]}return a.total_charge=a.basic_charge+a.usage_charge,a.tax=Math.round(a.total_charge/10),a.foundation_fund=10*Math.floor(.0037*a.total_charge),a.amount=10*Math.floor((a.total_charge+a.tax+a.foundation_fund)/10),a.message="Success",a}a.error=!0,a.message="Fail, type not defined"},ElectricityFee.prototype.getUsageByAmount=function(e,t){t=void 0===t||t;var a=[];this._elec_const[this.options.type].interval.forEach(function(e){a.push(this.getFeeDetail(e+1))},this);for(var i=0;a.length>0&&!((i=a.pop()).amount<e););for(;i.amount<e;)i=this.getFeeDetail(i.usage+1);return t?this.getFeeDetail(i.usage-1):this.getFeeDetail(i.usage)}}();
